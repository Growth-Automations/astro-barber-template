---
import type { SiteSettings } from '../../lib/types';

export interface Props {
  settings: SiteSettings;
}

const { settings } = Astro.props as Props;
const { contact, hours, social } = settings;

const addressLines = [
  contact.address.line1,
  contact.address.line2,
  `${contact.address.city}, ${contact.address.state} ${contact.address.postalCode}`
]
  .filter(Boolean)
  .join('\n');
---

<footer class="bg-footer-bg text-footer-text">
  <div class="mx-auto grid max-w-7xl gap-10 px-4 py-16 sm:px-6 lg:grid-cols-[2fr_1.5fr_1fr] lg:px-8">
    <div>
      <h2 class="text-xl font-semibold text-footer-text">{settings.name}</h2>
      <p class="mt-2 max-w-lg text-footer-text-secondary">{settings.description}</p>
      <div class="mt-6 space-y-1 text-sm text-footer-text-secondary">
        <a class="block hover:text-footer-text" href={`tel:${contact.phone.value}`}>
          {contact.phone.display}
        </a>
        <a class="block hover:text-footer-text" href={`mailto:${contact.email}`}>
          {contact.email}
        </a>
        <p class="mt-4 whitespace-pre-line">
          {addressLines}
        </p>
      </div>
    </div>
    <div>
      <h3 class="text-sm font-semibold uppercase tracking-wide text-footer-text-secondary">Hours</h3>
      <ul class="mt-4 space-y-2 text-sm text-footer-text-secondary">
        {hours.map((entry) => (
          <li class="flex justify-between gap-6" aria-label={`${entry.label} ${entry.value}`}>
            <span>{entry.label}</span>
            <span class="whitespace-nowrap font-medium text-footer-text">{entry.value}</span>
          </li>
        ))}
      </ul>
    </div>
    <div>
      <h3 class="text-sm font-semibold uppercase tracking-wide text-footer-text-secondary">Connect</h3>
      <ul class="mt-4 space-y-2 text-sm text-footer-text-secondary">
        {settings.navigation.map((item) => (
          <li>
            <a class="hover:text-footer-text" href={item.href}>{item.label}</a>
          </li>
        ))}
      </ul>
      {social && (
        <div class="mt-6 flex gap-3 text-sm">
          {social.map((item) => (
            <a class="rounded bg-footer-surface px-3 py-1 hover:bg-footer-surface" href={item.href}>
              {item.label}
            </a>
          ))}
        </div>
      )}
    </div>
  </div>
  <div class="border-t border-footer-border py-6 text-center text-xs text-footer-text-muted">
    Â© {new Date().getFullYear()} {settings.name}. All rights reserved.
  </div>
</footer>
