---
import type { CollectionEntry } from 'astro:content';

export interface Props {
  faqs: CollectionEntry<'faqs'>[];
  eyebrow?: string;
  heading: string;
  subheading?: string;
}

const props = Astro.props as Props;
---

<section class="bg-surface py-20">
  <div class="mx-auto max-w-4xl px-4 sm:px-6 lg:px-8">
    <div class="text-center">
      {props.eyebrow && (
        <p class="text-xs font-semibold uppercase tracking-[0.45em] text-secondary">{props.eyebrow}</p>
      )}
      <h2 class="mt-4 text-3xl font-semibold text-text md:text-4xl">{props.heading}</h2>
      {props.subheading && <p class="mt-3 text-lg text-text-secondary">{props.subheading}</p>}
    </div>
    <div class="mt-12 space-y-4">
      {props.faqs.map((entry) => (
        <details class="group rounded-2xl border border-border bg-surface-alt p-6 transition open:border-primary/40 open:bg-surface">
          <summary class="flex cursor-pointer items-center justify-between gap-4 text-left text-lg font-semibold text-text marker:hidden">
            <span>{entry.data.question}</span>
            <span class="relative inline-flex h-6 w-6 items-center justify-center rounded-full border border-border text-xs text-text-muted transition group-open:rotate-45 group-open:border-primary group-open:text-primary">
              +
            </span>
          </summary>
          <div class="mt-4 text-sm leading-relaxed text-text-secondary">
            {entry.data.answer}
          </div>
        </details>
      ))}
    </div>
  </div>
</section>
